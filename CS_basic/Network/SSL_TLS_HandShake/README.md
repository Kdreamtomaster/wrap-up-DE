# SSL/TLS Handshake 과정

SSL/TLS 핸드쉐이크는 클라이언트와 서버 간에 안전한 통신 채널을 설정하는 과정입니다. 다음은 주요 단계를 설명한 내용입니다:

---

## 1. **Client Hello**
- 클라이언트가 서버에 핸드쉐이크를 시작하는 메시지를 보냅니다.
- 포함된 정보:
  - 지원하는 **암호화 방식(Cipher Suites)** 목록
  - **TLS/SSL 버전**
  - 랜덤 데이터(Nonce)

---

## 2. **Server Hello**
- 서버가 클라이언트에 응답합니다.
- 포함된 정보:
  - 선택된 **암호화 방식**
  - **TLS/SSL 버전**
  - 랜덤 데이터(Nonce)

---

## 3. **Server Certificate**
- 서버는 자신의 인증서를 클라이언트에 보냅니다.
  - **인증서 내용**:
    - 서버의 공개 키
    - 서버의 도메인 이름
    - 인증 기관(CA) 서명

---

## 4. **Key Exchange**
- **(옵션) Server Key Exchange**: 추가 키 교환 데이터를 전송 (예: DHE 또는 ECDHE 사용 시).
- **Client Key Exchange**:
  - 클라이언트는 공유 키를 생성하기 위해 서버의 공개 키를 사용하여 데이터를 암호화한 후 서버에 전송합니다.

---

## 5. **Session Key 생성**
- 클라이언트와 서버는 각각 전송된 데이터를 바탕으로 세션 키를 생성합니다.
- 세션 키는 이후 대칭 암호화에 사용됩니다.

---

## 6. **Finished**
- 양측이 핸드쉐이크 완료 메시지를 암호화하여 전송합니다.
  - 클라이언트와 서버는 각각 생성된 세션 키로 암호화된 "Finished" 메시지를 보냅니다.
  - 메시지가 정상적으로 해독되면 핸드쉐이크가 완료됩니다.

---

## 결과: 보안 통신 시작
- 핸드쉐이크가 완료되면, 클라이언트와 서버 간의 데이터는 세션 키를 사용해 암호화되어 안전하게 전송됩니다.

---

## SSL/TLS 핸드쉐이크 과정 다이어그램

```plaintext
Client                              Server
   |                                   |
   | ----------- Client Hello -------->|
   |                                   |
   | <----------- Server Hello --------|
   |                                   |
   | <------- Server Certificate ------|
   |                                   |
   | - - (옵션) Server Key Exchange -->|
   |                                   |
   | -------- Client Key Exchange ---->|
   |                                   |
   | ----------- Finished ------------>|
   | <----------- Finished ------------|
   |                                   |
   |      [ Secure Communication ]     |
